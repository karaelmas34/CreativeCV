

// Fix: Import React to use React.createElement and avoid JSX in a .ts file.
import React, { createContext, useContext, useState, useCallback } from 'react';

const translations = {
  tr: {
    "header.title": "Kreatif CV",
    "header.home": "Anasayfa",
    "header.templates": "Şablonlar",
    "header.about": "Hakkımızda",
    "header.adminPanel": "Admin Paneli",
    "header.dashboard": "Kontrol Paneli",
    "header.login": "Giriş Yap / Kayıt Ol",
    "header.profileSettings": "Profil Ayarları",
    "header.logout": "Çıkış Yap",
    "footer.copyright": "© {year} Kreatif CV. Tüm hakları saklıdır.",
    "footer.privacy": "Güvenliğiniz bizim için önemlidir. Verileriniz yerel olarak saklanır.",
    "home.title": "Hayalinizdeki CV'yi Yaratın",
    "home.subtitle": "Saniyeler içinde profesyonel, modern ve yaratıcı özgeçmişler oluşturun. Yapay zeka destekli metin iyileştirme ile fark yaratın.",
    "home.cta": "Hemen Başla - Ücretsiz",
    "home.featuredTemplates": "Öne Çıkan Şablonlarımız",
    "home.templatePreview": "Şablon Önizlemesi",
    "home.seeAllTemplates": "Tüm şablonları gör &rarr;",
    "home.featuresTitle": "Neden Kreatif CV?",
    "home.feature1Title": "Yapay Zeka Gücü",
    "home.feature1Desc": "Metinlerinizi saniyeler içinde profesyonel bir dile çevirin. Özet ve iş tanımlarınızı yapay zeka ile güçlendirin, işe alım yöneticilerinin dikkatini çekin.",
    "home.feature2Title": "Göz Alıcı Şablonlar",
    "home.feature2Desc": "Modern, kurumsal veya yaratıcı... Tarzınıza uygun, endüstri standartlarında tasarlanmış 10'dan fazla profesyonel şablon arasından seçim yapın.",
    "home.feature3Title": "Kolay ve Hızlı",
    "home.feature3Desc": "Karmaşık arayüzlere veda edin. Sezgisel düzenleyicimiz ile CV'nizi dakikalar içinde hazırlayın, renklerini özelleştirin ve PDF olarak indirin.",
    "home.howItWorksTitle": "Nasıl Çalışır?",
    "home.step1": "1. Kayıt Olun",
    "home.step1Desc": "Hızlıca ücretsiz bir hesap oluşturun ve tüm özelliklere anında erişin.",
    "home.step2": "2. Şablon Seçin",
    "home.step2Desc": "Kişiliğinizi ve profesyonelliğinizi yansıtan mükemmel şablonu bulun.",
    "home.step3": "3. Bilgilerinizi Girin",
    "home.step3Desc": "Yapay zeka yardımıyla bilgilerinizi doldurun veya mevcut CV'nizi yükleyin.",
    "home.step4": "4. İndirin!",
    "home.step4Desc": "CV'nizi yüksek kalitede PDF olarak anında indirin ve başvurulara başlayın.",
    "login.title": "Hesabınıza Giriş Yapın",
    "login.emailPlaceholder": "Email adresi",
    "login.passwordPlaceholder": "Şifre",
    "login.demoInfo": "Demo admin: admin@karaelmas.com, şifre: Karaelmas.034. Diğer kullanıcılar için herhangi bir bilgiyle giriş yapabilirsiniz.",
    "login.cta": "Giriş Yap",
    "login.signUpPrompt": "Hesabınız yok mu?",
    "login.signUpLink": "Kayıt Olun",
    "login.forgotPassword": "Şifrenizi mi unuttunuz?",
    "login.banned": "Bu hesap askıya alınmıştır. Lütfen yönetici ile iletişime geçin.",
    "about.title": "Hakkımızda",
    "about.missionTitle": "Misyonumuz: Kariyer Fırsatlarını Herkese Açmak",
    "about.missionText": "Profesyonel ve iyi tasarlanmış bir CV'nin bir lüks olmaması gerektiğine inanıyoruz. Misyonumuz, herkesin potansiyelini gerçekten yansıtan ve yeni fırsatların kapılarını aralayan bir CV oluşturmasına yardımcı olmak için güçlü, kullanımı kolay ve tamamen ücretsiz araçlar sunmaktır.",
    "about.freeTitle": "Her Zaman Ücretsiz",
    "about.freeText": "Evet, doğru duydunuz. Kreatif CV'nin tüm temel özellikleri tamamen ücretsizdir ve her zaman öyle kalacaktır. Gizli maliyetler, premium'a özel şablonlar veya filigranlar yok. Sadece kariyer yolculuğunuzu desteklemek için yüksek kaliteli bir araç.",
    "about.valuesTitle": "Değerlerimiz",
    "about.value1Title": "Tasarım Mükemmelliği",
    "about.value1Desc": "Şablonlarımız, harika bir ilk izlenim bırakmanızı sağlamak için profesyonel tasarımcılar tarafından özenle hazırlanmıştır.",
    "about.value2Title": "Yapay Zeka Gücü",
    "about.value2Desc": "Daha etkili ve profesyonel içerikler yazmanıza yardımcı olmak için en son yapay zeka teknolojilerinden yararlanıyoruz.",
    "about.value3Title": "Kullanıcı Gizliliği",
    "about.value3Desc": "Verileriniz size aittir. Tarayıcınızda yerel olarak saklanır ve asla satılmaz. Gizliliğiniz bizim için esastır.",
    "about.cta": "Kariyerinize Şimdi Yön Verin",
    "dashboard.title": "Kontrol Paneli",
    "dashboard.newCV": "Yeni CV Oluştur",
    "dashboard.welcome": "Hoş geldin, {0}! CV'lerini buradan yönetebilirsin.",
    "dashboard.noCVs": "Henüz hiç CV oluşturmadınız.",
    "dashboard.createFirstCV": "İlk CV'nizi Oluşturun",
    "dashboard.lastUpdated": "Son güncelleme: {0}",
    "dashboard.edit": "Düzenle",
    "dashboard.importCV": "Veya Mevcut CV'nizi Yükleyin",
    "dashboard.importDropzone": "CV'nizi (.pdf, .docx) buraya sürükleyin veya dosyayı seçin",
    "dashboard.importParsing": "CV'niz yapay zeka tarafından okunuyor... Lütfen bekleyin.",
    "dashboard.importError": "CV okunurken bir hata oluştu.",
    "templates.title": "CV Şablonları",
    "admin.title": "Admin Paneli",
    "admin.dashboard": "Genel Bakış",
    "admin.users": "Kullanıcılar",
    "admin.ads": "Reklam Yönetimi",
    "admin.totalUsers": "Toplam Kullanıcı",
    "admin.totalCVs": "Oluşturulan CV Sayısı",
    "admin.dailyVisitors": "Günlük Ziyaretçi",
    "admin.activeUsers": "Aktif Kullanıcı",
    "admin.newUsersToday": "Bugün Üye Olanlar",
    "admin.cvsCreatedToday": "Bugün Oluşturulan CV'ler",
    "admin.userList": "Kullanıcı Listesi",
    "admin.email": "Email",
    "admin.cvCount": "CV Sayısı",
    "admin.joinDate": "Katılım Tarihi",
    "admin.status": "Durum",
    "admin.status.active": "Aktif",
    "admin.status.banned": "Yasaklı",
    "admin.searchUser": "Kullanıcı adı veya email ile ara...",
    "admin.editUser": "Kullanıcıyı Düzenle",
    "admin.banUser": "Kullanıcıyı Yasakla",
    "admin.unbanUser": "Yasağı Kaldır",
    "admin.deleteUser": "Kullanıcıyı Sil",
    "admin.deleteUserConfirm": "{0} adlı kullanıcıyı kalıcı olarak silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",
    "admin.ads.title": "Reklam Yönetimi",
    "admin.ads.new": "Yeni Banner Ekle",
    "admin.ads.imageUrl": "Resim URL",
    "admin.ads.linkUrl": "Bağlantı URL",
    "admin.ads.placement": "Yerleşim",
    "admin.ads.isActive": "Aktif",
    "admin.ads.save": "Kaydet",
    "admin.ads.current": "Mevcut Bannerlar",
    "admin.ads.actions": "Eylemler",
    "profile.title": "Profil Ayarları",
    "profile.updateInfo": "Bilgileri Güncelle",
    "profile.infoUpdated": "Profil bilgileri başarıyla güncellendi.",
    "profile.changePassword": "Şifre Değiştir",
    "profile.currentPassword": "Mevcut Şifre",
    "profile.newPassword": "Yeni Şifre",
    "profile.confirmNewPassword": "Yeni Şifreyi Onayla",
    "profile.passwordUpdated": "Şifre başarıyla değiştirildi.",
    "profile.passwordMismatch": "Yeni şifreler eşleşmiyor.",
    "profile.dangerZone": "Tehlikeli Alan",
    "profile.deleteAccount": "Hesabımı Sil",
    "profile.deleteAccountInfo": "Bu işlem geri alınamaz. Tüm CV'leriniz ve kişisel verileriniz kalıcı olarak silinecektir.",
    "profile.deleteConfirm": "Hesabınızı silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",
    "editor.title": "CV Düzenleyici",
    "editor.done": "Bitti",
    "editor.download": "İndir",
    "editor.autosave": "Değişiklikleriniz otomatik olarak kaydedildi.",
    "editor.selectTemplate": "Şablon Seç",
    "editor.primaryColor": "Ana Renk",
    "editor.personalInfo": "Kişisel Bilgiler",
    "editor.fullName": "Tam Ad",
    "editor.email": "Email",
    "editor.phoneNumber": "Telefon Numarası",
    "editor.address": "Adres",
    "editor.linkedin": "LinkedIn",
    "editor.github": "GitHub",
    "editor.website": "Web Sitesi",
    "editor.profilePicture": "Profil Fotoğrafı",
    "editor.changeImage": "Değiştir",
    "editor.profilePictureUrl": "Veya Resim URL'si",
    "editor.summary": "Özet",
    "editor.summaryPlaceholder": "Profesyonel özet",
    "editor.enhanceWithAI": "AI ile Geliştir",
    "editor.enhancing": "İyileştiriliyor...",
    "editor.experience": "Deneyim",
    "editor.jobTitle": "Ünvan",
    "editor.company": "Şirket",
    "editor.location": "Konum",
    "editor.startDate": "Başlangıç Tarihi",
    "editor.endDate": "Bitiş Tarihi",
    "editor.present": "Halen çalışıyorum",
    "editor.description": "Açıklama",
    "editor.remove": "Kaldır",
    "editor.addExperience": "Deneyim Ekle",
    "editor.education": "Eğitim",
    "editor.addEducation": "Eğitim Ekle",
    "editor.institution": "Okul / Kurum Adı",
    "editor.degree": "Bölüm / Derece",
    "editor.fieldOfStudy": "Alan",
    "editor.skills": "Yetenekler",
    "editor.addSkill": "Yetenek Ekle",
    "editor.skillName": "Yetenek Adı",
    "editor.skillLevel": "Seviye",
    "editor.languages": "Diller",
    "editor.addLanguage": "Dil Ekle",
    "editor.languageName": "Dil",
    "editor.proficiency": "Yeterlilik",
    "editor.addSection": "Bölüm Ekle",
    "editor.certificates": "Sertifikalar",
    "editor.projects": "Projeler",
    "editor.references": "Referanslar",
    "editor.hobbies": "Hobiler & İlgi Alanları",
    "editor.addCertificate": "Sertifika Ekle",
    "editor.certificateName": "Sertifika Adı",
    "editor.issuer": "Veren Kurum",
    "editor.date": "Tarih",
    "editor.addProject": "Proje Ekle",
    "editor.projectName": "Proje Adı",
    "editor.projectLink": "Proje Linki",
    "editor.addReference": "Referans Ekle",
    "editor.referenceName": "Referans Adı",
    "editor.relation": "İlişki / Ünvan",
    "editor.contactInfo": "İletişim Bilgisi",
    "editor.addHobby": "Hobi Ekle",
    "editor.hobbyName": "Hobi / İlgi Alanı",
    "editor.deleteConfirm": "Bu CV'yi silmek istediğinizden emin misiniz?",
    "editor.desktopPreview": "Masaüstü Görünümü",
    "editor.mobilePreview": "Mobil Görünümü",
    "editor.undo": "Geri Al",
    "editor.redo": "İleri Al",
    "editor.downloadAd.title": "İndirmeden Önce Son Bir Adım",
    "editor.downloadAd.body": "Ücretsiz hizmetimizin devamlılığı için kısa bir reklam izleyerek bize destek olabilirsiniz. Anlayışınız için teşekkür ederiz.",
    "editor.downloadAd.confirm": "Reklamı İzle ve İndir",
    "editor.downloadAd.cancel": "Vazgeç",
    "editor.ad.title": "Reklam",
    "editor.ad.closeAfter": "Reklamı {0} saniye sonra kapatabilirsiniz.",
    "editor.ad.closeNow": "Reklamı Kapat",
    "editor.previewCV": "CV'yi Önizle",
    "editor.backToEditor": "Düzenleyiciye Dön",
    "template.minimalist": "Minimalist",
    "template.corporate": "Kurumsal",
    "template.creative-column": "Yaratıcı Sütun",
    "template.infographic": "İnfografik",
    "template.photo-focus": "Fotoğraf Odaklı",
    "template.dark-mode": "Karanlık Mod",
    "template.color-block": "Renk Bloğu",
    "template.typographic": "Tipografik",
    "template.modern-grid": "Modern Izgara",
    "template.sidebar-nav": "Kenar Çubuğu",
  },
  en: {
    "header.title": "Creative CV",
    "header.home": "Home",
    "header.templates": "Templates",
    "header.about": "About Us",
    "header.adminPanel": "Admin Panel",
    "header.dashboard": "Dashboard",
    "header.login": "Login / Sign Up",
    "header.profileSettings": "Profile Settings",
    "header.logout": "Logout",
    "footer.copyright": "© {year} Creative CV. All rights reserved.",
    "footer.privacy": "Your security is important to us. Your data is stored locally.",
    "home.title": "Create Your Dream CV",
    "home.subtitle": "Create professional, modern, and creative resumes in seconds. Make a difference with AI-powered text enhancement.",
    "home.cta": "Get Started - It's Free",
    "home.featuredTemplates": "Our Featured Templates",
    "home.templatePreview": "Template Preview",
    "home.seeAllTemplates": "See all templates &rarr;",
    "home.featuresTitle": "Why Creative CV?",
    "home.feature1Title": "AI Power",
    "home.feature1Desc": "Transform your text into professional language in seconds. Enhance your summary and job descriptions with AI to catch the recruiter's eye.",
    "home.feature2Title": "Stunning Templates",
    "home.feature2Desc": "Modern, corporate, or creative... Choose from over 10 professional, industry-standard templates that fit your style.",
    "home.feature3Title": "Easy and Fast",
    "home.feature3Desc": "Say goodbye to complex interfaces. Prepare your CV, customize its colors, and download it as a PDF in minutes with our intuitive editor.",
    "home.howItWorksTitle": "How It Works?",
    "home.step1": "1. Sign Up",
    "home.step1Desc": "Quickly create a free account and get instant access to all features.",
    "home.step2": "2. Choose a Template",
    "home.step2Desc": "Find the perfect template that reflects your personality and professionalism.",
    "home.step3": "3. Fill in Your Info",
    "home.step3Desc": "Fill in your information with AI assistance or upload your existing CV.",
    "home.step4": "4. Download!",
    "home.step4Desc": "Instantly download your CV in high-quality PDF and start applying.",
    "login.title": "Login to Your Account",
    "login.emailPlaceholder": "Email address",
    "login.passwordPlaceholder": "Password",
    "login.demoInfo": "Demo admin: admin@karaelmas.com, pass: Karaelmas.034. For other users, you can log in with any credentials.",
    "login.cta": "Login",
    "login.signUpPrompt": "Don't have an account?",
    "login.signUpLink": "Sign Up",
    "login.forgotPassword": "Forgot your password?",
    "login.banned": "This account has been suspended. Please contact an administrator.",
    "about.title": "About Us",
    "about.missionTitle": "Our Mission: Unlocking Career Opportunities for Everyone",
    "about.missionText": "We believe that a professional, well-designed CV shouldn't be a luxury. Our mission is to provide powerful, easy-to-use, and completely free tools to help everyone create a CV that truly reflects their potential and opens doors to new opportunities.",
    "about.freeTitle": "Always Free",
    "about.freeText": "That's right. All core features of Creative CV are, and always will be, completely free. No hidden costs, no premium-only templates, no watermarks. Just a high-quality tool to support your career journey.",
    "about.valuesTitle": "Our Values",
    "about.value1Title": "Design Excellence",
    "about.value1Desc": "Our templates are crafted by professional designers to ensure you make a great first impression.",
    "about.value2Title": "AI Power",
    "about.value2Desc": "We leverage cutting-edge AI to help you write more effective and professional content.",
    "about.value3Title": "User Privacy",
    "about.value3Desc": "Your data is yours. It's stored locally in your browser, and we don't sell it. Your privacy is paramount.",
    "about.cta": "Shape Your Career Now",
    "dashboard.title": "Dashboard",
    "dashboard.newCV": "Create New CV",
    "dashboard.welcome": "Welcome, {0}! You can manage your CVs here.",
    "dashboard.noCVs": "You haven't created any CVs yet.",
    "dashboard.createFirstCV": "Create Your First CV",
    "dashboard.lastUpdated": "Last updated: {0}",
    "dashboard.edit": "Edit",
    "dashboard.importCV": "Or Upload Your Existing CV",
    "dashboard.importDropzone": "Drag & drop your CV (.pdf, .docx) here, or click to select file",
    "dashboard.importParsing": "Parsing your CV with AI... Please wait.",
    "dashboard.importError": "An error occurred while parsing the CV.",
    "templates.title": "CV Templates",
    "admin.title": "Admin Panel",
    "admin.dashboard": "Dashboard",
    "admin.users": "Users",
    "admin.ads": "Ad Management",
    "admin.totalUsers": "Total Users",
    "admin.totalCVs": "CVs Created",
    "admin.dailyVisitors": "Daily Visitors",
    "admin.activeUsers": "Active Users",
    "admin.newUsersToday": "New Users Today",
    "admin.cvsCreatedToday": "CVs Created Today",
    "admin.userList": "User List",
    "admin.email": "Email",
    "admin.cvCount": "CV Count",
    "admin.joinDate": "Join Date",
    "admin.status": "Status",
    "admin.status.active": "Active",
    "admin.status.banned": "Banned",
    "admin.searchUser": "Search by user name or email...",
    "admin.editUser": "Edit User",
    "admin.banUser": "Ban User",
    "admin.unbanUser": "Unban User",
    "admin.deleteUser": "Delete User",
    "admin.deleteUserConfirm": "Are you sure you want to permanently delete the user {0}? This action cannot be undone.",
    "admin.ads.title": "Ad Management",
    "admin.ads.new": "Add New Banner",
    "admin.ads.imageUrl": "Image URL",
    "admin.ads.linkUrl": "Link URL",
    "admin.ads.placement": "Placement",
    "admin.ads.isActive": "Active",
    "admin.ads.save": "Save",
    "admin.ads.current": "Current Banners",
    "admin.ads.actions": "Actions",
    "profile.title": "Profile Settings",
    "profile.updateInfo": "Update Information",
    "profile.infoUpdated": "Profile information updated successfully.",
    "profile.changePassword": "Change Password",
    "profile.currentPassword": "Current Password",
    "profile.newPassword": "New Password",
    "profile.confirmNewPassword": "Confirm New Password",
    "profile.passwordUpdated": "Password changed successfully.",
    "profile.passwordMismatch": "New passwords do not match.",
    "profile.dangerZone": "Danger Zone",
    "profile.deleteAccount": "Delete My Account",
    "profile.deleteAccountInfo": "This action cannot be undone. All your CVs and personal data will be permanently deleted.",
    "profile.deleteConfirm": "Are you sure you want to delete your account? This action cannot be undone.",
    "editor.title": "CV Editor",
    "editor.done": "Done",
    "editor.download": "Download",
    "editor.autosave": "Your changes have been saved automatically.",
    "editor.selectTemplate": "Select Template",
    "editor.primaryColor": "Primary Color",
    "editor.personalInfo": "Personal Information",
    "editor.fullName": "Full Name",
    "editor.email": "Email",
    "editor.phoneNumber": "Phone Number",
    "editor.address": "Address",
    "editor.linkedin": "LinkedIn",
    "editor.github": "GitHub",
    "editor.website": "Website",
    "editor.profilePicture": "Profile Picture",
    "editor.changeImage": "Change",
    "editor.profilePictureUrl": "Or Image URL",
    "editor.summary": "Summary",
    "editor.summaryPlaceholder": "Professional summary",
    "editor.enhanceWithAI": "Enhance with AI",
    "editor.enhancing": "Enhancing...",
    "editor.experience": "Experience",
    "editor.jobTitle": "Job Title",
    "editor.company": "Company",
    "editor.location": "Location",
    "editor.startDate": "Start Date",
    "editor.endDate": "End Date",
    "editor.present": "I currently work here",
    "editor.description": "Description",
    "editor.remove": "Remove",
    "editor.addExperience": "Add Experience",
    "editor.education": "Education",
    "editor.addEducation": "Add Education",
    "editor.institution": "Institution Name",
    "editor.degree": "Degree / Major",
    "editor.fieldOfStudy": "Field of Study",
    "editor.skills": "Skills",
    "editor.addSkill": "Add Skill",
    "editor.skillName": "Skill Name",
    "editor.skillLevel": "Level",
    "editor.languages": "Languages",
    "editor.addLanguage": "Add Language",
    "editor.languageName": "Language",
    "editor.proficiency": "Proficiency",
    "editor.addSection": "Add Section",
    "editor.certificates": "Certificates",
    "editor.projects": "Projects",
    "editor.references": "References",
    "editor.hobbies": "Hobbies & Interests",
    "editor.addCertificate": "Add Certificate",
    "editor.certificateName": "Certificate Name",
    "editor.issuer": "Issuing Organization",
    "editor.date": "Date",
    "editor.addProject": "Add Project",
    "editor.projectName": "Project Name",
    "editor.projectLink": "Project Link",
    "editor.addReference": "Add Reference",
    "editor.referenceName": "Reference Name",
    "editor.relation": "Relation / Title",
    "editor.contactInfo": "Contact Information",
    "editor.addHobby": "Add Hobby",
    "editor.hobbyName": "Hobby / Interest",
    "editor.deleteConfirm": "Are you sure you want to delete this CV?",
    "editor.desktopPreview": "Desktop View",
    "editor.mobilePreview": "Mobile View",
    "editor.undo": "Undo",
    "editor.redo": "Redo",
    "editor.downloadAd.title": "One Last Step Before Downloading",
    "editor.downloadAd.body": "You can support us by watching a short ad to ensure the continuity of our free service. Thank you for your understanding.",
    "editor.downloadAd.confirm": "Watch Ad and Download",
    "editor.downloadAd.cancel": "Cancel",
    "editor.ad.title": "Advertisement",
    "editor.ad.closeAfter": "You can close the ad in {0} seconds.",
    "editor.ad.closeNow": "Close Ad",
    "editor.previewCV": "Preview CV",
    "editor.backToEditor": "Back to Editor",
    "template.minimalist": "Minimalist",
    "template.corporate": "Corporate",
    "template.creative-column": "Creative Column",
    "template.infographic": "Infographic",
    "template.photo-focus": "Photo Focus",
    "template.dark-mode": "Dark Mode",
    "template.color-block": "Color Block",
    "template.typographic": "Typographic",
    "template.modern-grid": "Modern Grid",
    "template.sidebar-nav": "Sidebar Nav",
  }
};
export type AppLanguage = keyof typeof translations;
export type TranslationKey = keyof typeof translations['en'];

const getInitialLanguage = (): AppLanguage => {
  const browserLang = navigator.language.split('-')[0] as AppLanguage;
  return translations[browserLang] ? browserLang : 'en';
};

const LanguageContext = createContext({
  language: 'en' as AppLanguage,
  setLanguage: (lang: AppLanguage) => {},
  t: (key: TranslationKey, ...args: (string | number)[]) => key as string
});

export const useTranslations = () => useContext(LanguageContext);

export const LanguageProvider: React.FC<{children: React.ReactNode}> = ({ children }) => {
    const [language, setLanguage] = useState<AppLanguage>(getInitialLanguage());

    const t = useCallback((key: TranslationKey, ...args: (string | number)[]) => {
        let translation = translations[language][key] || translations['en'][key] || key;
        if (args.length > 0 && typeof translation === 'string') {
            args.forEach((arg, index) => {
                const regex = new RegExp(`\\{${index}\\}`, 'g');
                translation = translation.replace(regex, String(arg));
            });
        }
        return translation as string;
    }, [language]);
    
    // Fix: Using React.createElement instead of JSX to prevent parsing errors in a .ts file.
    return React.createElement(
        LanguageContext.Provider,
        { value: { language, setLanguage, t } },
        children
    );
};